@page "/counter"

@using Syncfusion.Blazor.Navigations
@inject DataModel Data
@inject HttpClient http
@inject IJSRuntime Javascript

<div class="col-lg-12 control-section">
    <div class="col-lg-6 list-data">
        <h4>List Data</h4>
        <div class="content">
            <SfTreeView TValue="TreeItemData">
                <TreeViewFieldsSettings DataSource="@TreeDataSource" Id="id" ParentID="pid" Text="Title" HasChildren="HasChild" Expanded="Expanded"></TreeViewFieldsSettings>
            </SfTreeView>
        </div>
    </div>
</div>





@code {

        public class TreeItemData
        {
        public string id { get; set; }

        public string pid { get; set; }

        public string Title { get; set; }

        public bool Expanded { get; set; }

        public bool HasChild { get; set; }

        public HashSet<TreeItemData> TreeItems { get; set; }


    }
    protected override void OnInitialized()
    {

        base.OnInitialized();
        

    }



    List<TreeItemData> TreeDataSource = new List<TreeItemData>();
    HashSet<string> hs = new HashSet<string>();

    protected override async Task OnInitializedAsync()
    {
        Data.data = await http.GetFromJsonAsync<DataModel[]>("Staticdata.json");

        TreeDataSource.Add(new TreeItemData
        {
                id = "00000000-0000-0000-0000-000000000000",
                Title="NSL",
                HasChild=true,
                Expanded= true
        }); 

        foreach(var node in Data.data)
        {
            

            TreeDataSource.Add(new TreeItemData
                {
                    id = node.id,
                    pid = node.pid,
                    Title = node.name,
                    HasChild = true,
        });  
        }

        Console.WriteLine(TreeDataSource.ElementAt(1).pid);

        
    }

    
}
<style>
    /* Sample specific styles */
    .control_wrapper {
        max-width: 500px;
        margin: auto;
        border: 1px solid #dddddd;
        border-radius: 3px;
    }
    /* Specifies the styles for both List and Hierarchical Data TreeView component */
    .nested-data, .list-data {
        padding: 15px;
        margin-bottom: 25px;
    }

    .content {
        margin: 0 auto;
        border: 1px solid #dddddd;
        border-radius: 3px;
        max-height: 470px;
        overflow: auto;
    }

        .content h4 {
            padding: 0 10px;
        }
</style>